"use strict";(self.webpackChunk_roots_bud_sage=self.webpackChunk_roots_bud_sage||[]).push([[3002,6751,1025],{"./scripts/components/header.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var s=i("./scripts/helpers/utils.js"),n=i("./scripts/constants/delay.js");class o{constructor(e){this.header=e,this.navigationDesktop=this.header?.querySelector(".navigation-desktop .navigation"),this.headerNavElements=this.navigationDesktop.querySelectorAll(".navigation > .menu-item-has-children"),this.secondNestingItemsClass=".navigation > .menu-item > .menu-item__container > .menu-item__items > .sub-menu .menu-item",this.secondNestingItems=this.navigationDesktop.querySelectorAll(this.secondNestingItemsClass),this.burgerButton=this.header?.querySelector(".burger"),this.navigationMobile=this.header?.querySelector(".navigation-mobile"),this.navigationListNode=this.navigationMobile.querySelector(".navigation"),this.menuItems=this.navigationMobile.querySelectorAll(".navigation-mobile .navigation > .menu-item-has-children"),this.subMenuItems=this.navigationMobile.querySelectorAll(".menu-item-has-children.sub-menu-item"),this.allMenuItems=this.navigationMobile.querySelectorAll(".menu-item"),this.currentParentItems=this.navigationMobile?.querySelectorAll(".current-menu-ancestor"),this.init()}init(){this.headerNavElements.forEach(e=>{e.addEventListener("mouseenter",this.hoverOnNavElement.bind(this)),e.addEventListener("mouseleave",this.leaveFromNavElement.bind(this))}),this.calcHeaderHeight(),this.setTopPositionForMobileNavigation(),this.hideOnScroll(),this.addIndentToComplexItem(),this.currentParentItems.length&&this.openAccordionWithCurrentItem(),this.burgerButton.addEventListener("click",this.handleBurger.bind(this)),this.menuItems.forEach(e=>{e.addEventListener("click",this.handleMenuItem.bind(this))}),this.subMenuItems.forEach(e=>{e.addEventListener("click",this.handleSubMenuItem.bind(this))})}calcHeaderHeight(){const e=()=>{window.globalVariables.adminBarHeight=document.querySelector("#wpadminbar")?.offsetHeight||0,window.globalVariables.headerHeight=this.header.offsetHeight,this.isMobile()?this.header.setAttribute("style",`--headerHeight: ${window.globalVariables.headerHeight}px; --top: 0px;`):this.header.setAttribute("style",`--headerHeight: ${window.globalVariables.headerHeight}px; --top: ${window.globalVariables.adminBarHeight}px;`),this.setTopPositionForMobileNavigation()};e(),window.addEventListener("resize",e)}isMobile(){return window.innerWidth<600}setTopPositionForMobileNavigation(){this.navigationMobile.style.top=`${window.globalVariables.headerHeight}px`}hideOnScroll(){const e=()=>window.scrollY||document.documentElement.scrollTop;let t=e(),i=e();window.addEventListener("scroll",()=>{this.navigationDesktop.querySelector(".hover")?.classList.remove("hover");const s=e();i=s<0?0:s,i>t&&this.header.classList.add("header_hide"),i<t&&this.header.classList.remove("header_hide"),t=i})}addIndentToComplexItem(){this.secondNestingItems.forEach(e=>{const t=e.querySelector(".menu-item-link .text p:nth-child(2)")?.innerText;t&&e.classList.add("menu-item-indent-for-complex-item")})}hoverOnNavElement(e){e.target.classList.add("hover")}leaveFromNavElement(e){e.target.classList.remove("hover")}openAccordionWithCurrentItem(){this.currentParentItems.forEach(e=>this.addActiveClass(e))}handleBurger(){this.navigationMobile.classList.contains("active")?this.closeSideMenu():this.openSideMenu()}handleMenuItem(e){if(e.target.classList.contains("sub-menu-item"))return;const t=e.target,i=[...this.menuItems].find(e=>e.classList.contains("active"));i&&(i.classList.remove("active"),this.closeSubMenuItem(i),this.removeActiveClass(i)),t!==i&&this.addActiveClass(t)}handleSubMenuItem(e){if(!e.target.classList.contains("sub-menu-item")&&!e.target.classList.contains("menu-item-has-children"))return;const t=e.target,i=[...this.subMenuItems].find(e=>e.classList.contains("active"));t!==i&&this.addActiveClass(t),i&&i.classList.remove("active")}getSubMenuItemWithActiveClass(e){return e.querySelector(".active")}closeSubMenuItem(e){const t=this.getSubMenuItemWithActiveClass(e);t!==this.currentParentItems[1]&&(t&&this.removeActiveClass(t),setTimeout(()=>{this.addActiveClass(this.currentParentItems[1])},n.DELAY.SM))}openSideMenu(){this.addActiveClass(this.navigationMobile),this.addActiveClass(this.burgerButton),(0,s.removeBodyScroll)()}closeSideMenu(){this.removeActiveClass(this.navigationMobile),this.removeActiveClass(this.burgerButton),(0,s.addBodyScroll)(),setTimeout(()=>{this.allMenuItems.forEach(e=>this.removeActiveClass(e)),this.openAccordionWithCurrentItem()},n.DELAY.SM)}addActiveClass(e){e.classList.add("active")}removeActiveClass(e){e.classList.remove("active")}}},"./scripts/constants/delay.js":(e,t,i)=>{i.r(t),i.d(t,{DELAY:()=>s});const s={SM:300,MD:500,LG:800}},"./scripts/helpers/utils.js":(e,t,i)=>{i.r(t),i.d(t,{addBodyScroll:()=>n,removeBodyScroll:()=>s});const s=()=>{["html","body"].forEach(e=>{document.querySelector(e).style.overflow="clip",document.querySelector(e).style.touchAction="none"})},n=()=>{["html","body"].forEach(e=>{document.querySelector(e).style.removeProperty("overflow"),document.querySelector(e).style.removeProperty("touch-action")})}}}]);